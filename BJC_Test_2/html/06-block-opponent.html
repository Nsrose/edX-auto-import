<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml"> <script>
function bindEscKey() {
        // Escape key toggles snap iframe on and off (visible and hidden) with esc key.
        $('#snap-frame').contents().bind('keydown', function(e) {
            if (e.which == 27) {
                $('#snap-frame').fadeToggle();
            }
        });
    }
    if (!$('#snap-toggle').length) {
        // Adds a snap button at top left portion of screen to toggle snap window.
        $('body').prepend('<img type="button" id="snap-toggle" type="image" src="http://edge.edx.org/c4x/BerkeleyX/CS10/asset/alonso.png" width="32" height="35" style="-moz-border-radius: 10px; -webkit-border-radius: 40px; opacity: 0.5; position: fixed; top: 11px; left: 9px; z-index: 9999;">');

        // Causes snap iframe to fade in and out when the snap button is clicked.
        $('#snap-toggle').click(function () {
            $('#snap-frame').fadeToggle();
        });

        // Causes transparency of snap-toggle button.
        $("#snap-toggle").hover(function(){
            $("#snap-toggle").css("opacity","1");
        }, function() {
            $("#snap-toggle").css("opacity","0.5");
        });
    }

    if (!$('#snap-frame').length) {
        // Adds a nearly full screen snap iframe that can be toggled on and off.
        $('body').prepend('<iframe id="snap-frame" onload="bindEscKey()" class="zoom-in" style="width: 95.8%; height: 100%; position: fixed; right: 0; top: 0; z-index: 9999;" src="/static/index.html" sandbox="allow-same-origin allow-forms allow-scripts"></iframe>');
        $('#snap-frame').hide();
        $('#snap-frame').height($(window).height());
        $('#snap-frame').width($(window).width() * 0.958);

        // Escape key toggles snap iframe on and off (visible and hidden) with esc key.
        $(document).bind('keydown', function(e) {
            if (e.which == 27) {
                $('#snap-frame').fadeToggle();
            }
        });
    }
</script>
 <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> <script type="text/javascript" src="http://bjc.berkeley.edu/bjc-r/admin/bjc-loader.js"></script> <title>Blocking the Opponent</title> </head> <body> <h1>Blocking the Opponent</h1> <p>At this point you're ready to assemble a first version of the <code>ttt</code> block: </p> <blockquote> <p><img src="http://bjc.berkeley.edu/bjc-r/img/hof/ttt-first.png" alt="ttt block with winnng-square rule" /></p> </blockquote> <p>The sample position we've been using all along has a winning move for O, but not for X:</p> <blockquote> <p><img src="http://bjc.berkeley.edu/bjc-r/img/hof/ttt-O-wins.png" alt="ttt wins for O" /><img src="http://bjc.berkeley.edu/bjc-r/img/hof/ttt-X-fails.png" alt="ttt fails for X" /></p> </blockquote> <p>(Yes, we know that if the board has the same number of X squares as O squares it has to be X's turn. We'll worry about that when you write a complete game program. For now, it's easier to debug if we ignore that rule and use the same position regardless of who plays next, at least for this first rule.)</p> <blockquote> <p>Question: Why do we get the answer 1 for O? What winning combination is the program finding?</p> </blockquote> <p>Now add a second rule to <code>ttt</code> that looks for a square in which the opponent can win on the next move. This new rule comes <em>after</em> the one we have already, because if the computer can win on this move, we don't care what the opponent could have done later.</p> <p><strong>Big hint: Do not write any new helper blocks!</strong> You already have all the tools you need to find and block a potential win for the human player.</p> <p>Once you've modified <code>ttt</code> with the new rule, it should give an answer for our sample board with the computer playing X, who can't win on this move but can block O's win on the next move:</p> <p><img src="http://bjc.berkeley.edu/bjc-r/img/hof/ttt-X-blocked.png" alt="ttt blocking for X" /></p> </body> </html>