<html> <script>
function bindEscKey() {
        // Escape key toggles snap iframe on and off (visible and hidden) with esc key.
        $('#snap-frame').contents().bind('keydown', function(e) {
            if (e.which == 27) {
                $('#snap-frame').fadeToggle();
            }
        });
    }
    if (!$('#snap-toggle').length) {
        // Adds a snap button at top left portion of screen to toggle snap window.
        $('body').prepend('<img type="button" id="snap-toggle" type="image" src="http://edge.edx.org/c4x/BerkeleyX/CS10/asset/alonso.png" width="32" height="35" style="-moz-border-radius: 10px; -webkit-border-radius: 40px; opacity: 0.5; position: fixed; top: 11px; left: 9px; z-index: 9999;">');

        // Causes snap iframe to fade in and out when the snap button is clicked.
        $('#snap-toggle').click(function () {
            $('#snap-frame').fadeToggle();
        });

        // Causes transparency of snap-toggle button.
        $("#snap-toggle").hover(function(){
            $("#snap-toggle").css("opacity","1");
        }, function() {
            $("#snap-toggle").css("opacity","0.5");
        });
    }

    if (!$('#snap-frame').length) {
        // Adds a nearly full screen snap iframe that can be toggled on and off.
        $('body').prepend('<iframe id="snap-frame" onload="bindEscKey()" class="zoom-in" style="width: 95.8%; height: 100%; position: fixed; right: 0; top: 0; z-index: 9999;" src="/static/index.html" sandbox="allow-same-origin allow-forms allow-scripts"></iframe>');
        $('#snap-frame').hide();
        $('#snap-frame').height($(window).height());
        $('#snap-frame').width($(window).width() * 0.958);

        // Escape key toggles snap iframe on and off (visible and hidden) with esc key.
        $(document).bind('keydown', function(e) {
            if (e.which == 27) {
                $('#snap-frame').fadeToggle();
            }
        });
    }
</script>
 <head> <script type="text/javascript" src="http://bjc.berkeley.edu/bjc-r/admin/bjc-loader.js"></script> <title>Generalizing "List all"</title> </head> <body> <h1>Generalize "List all"</h1> <p> A few pages ago, we wrote the blocks </p> <p> <img src="http://inst.eecs.berkeley.edu/~cs10/labs/img/hof/list-all-pandigital.png" alt="list all pandigital numbers between min and max"/> <img src="http://inst.eecs.berkeley.edu/~cs10/labs/img/hof/list-all-factorions.png" alt="list all factorions between min and max"/> <br/> </p> <p> The functionality of these blocks (and, probably, your implementations of them) bear a striking resemblance to one another. Computer scientists love generalization, so let's make a block that can accomplish the duties of both of the above blocks. Since the main difference between the two is what predicate they use, we'll add that as in input. Hint: when writing the block below, <code>call</code> will be quite useful. </p> <p> <img src="http://inst.eecs.berkeley.edu/~cs10/labs/img/hof/list-all-numbers-with-property.png" alt="list all numbers with property between min and max"/> <br/> </p> <p> Once you've written this block, try running it like this: </p> <p> <img src="http://inst.eecs.berkeley.edu/~cs10/labs/img/hof/list-all-numbers-with-property-pandigital.png" alt="list all numbers with property pandigital between min and max"/> <br/> <br/> <img src="http://inst.eecs.berkeley.edu/~cs10/labs/img/hof/list-all-numbers-with-property-factorion.png" alt="list all numbers with property factorion etween min and max"/> <br/> </p> <p> Does the output match the "list all" blocks from earlier? </p> <p> Now, imagine you're given a new predicate, such as: </p> <p> <img src="http://inst.eecs.berkeley.edu/~cs10/labs/img/hof/is-even.png" alt="is number even?"/> </p> <p> and want to write the block </p> <p> <img src="http://inst.eecs.berkeley.edu/~cs10/labs/img/hof/list-all-even-numbers.png" alt="list all even numbers between min and max"/> </p> <p> Wait! Doesn't this sound pretty familiar? This problem can be easily solved using the general block we just created (you don't actually have to solve this one) </p> <p> The beauty of abstraction: build once, use over and over again! When we wrote the <code>list all numbers with property</code> block, we didn't know that we'd ever want to list even numbers! But since we generalized properly, we were able to use the block to solve a future problem. </p> </body> </html>