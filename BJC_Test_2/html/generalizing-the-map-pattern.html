<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml"> <script>
function bindEscKey() {
        // Escape key toggles snap iframe on and off (visible and hidden) with esc key.
        $('#snap-frame').contents().bind('keydown', function(e) {
            if (e.which == 27) {
                $('#snap-frame').fadeToggle();
            }
        });
    }
    if (!$('#snap-toggle').length) {
        // Adds a snap button at top left portion of screen to toggle snap window.
        $('body').prepend('<img type="button" id="snap-toggle" type="image" src="http://edge.edx.org/c4x/BerkeleyX/CS10/asset/alonso.png" width="32" height="35" style="-moz-border-radius: 10px; -webkit-border-radius: 40px; opacity: 0.5; position: fixed; top: 11px; left: 9px; z-index: 9999;">');

        // Causes snap iframe to fade in and out when the snap button is clicked.
        $('#snap-toggle').click(function () {
            $('#snap-frame').fadeToggle();
        });

        // Causes transparency of snap-toggle button.
        $("#snap-toggle").hover(function(){
            $("#snap-toggle").css("opacity","1");
        }, function() {
            $("#snap-toggle").css("opacity","0.5");
        });
    }

    if (!$('#snap-frame').length) {
        // Adds a nearly full screen snap iframe that can be toggled on and off.
        $('body').prepend('<iframe id="snap-frame" onload="bindEscKey()" class="zoom-in" style="width: 95.8%; height: 100%; position: fixed; right: 0; top: 0; z-index: 9999;" src="/static/index.html" sandbox="allow-same-origin allow-forms allow-scripts"></iframe>');
        $('#snap-frame').hide();
        $('#snap-frame').height($(window).height());
        $('#snap-frame').width($(window).width() * 0.958);

        // Escape key toggles snap iframe on and off (visible and hidden) with esc key.
        $(document).bind('keydown', function(e) {
            if (e.which == 27) {
                $('#snap-frame').fadeToggle();
            }
        });
    }
</script>
 <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> <script type="text/javascript" src="http://bjc.berkeley.edu/bjc-r/admin/bjc-loader.js"></script> <title>Generalizing the Map Pattern</title> </head> <body> <h1>Generalizing the Map Pattern</h1> <p><img src="http://bjc.berkeley.edu/bjc-r/img/recur/reporters/plurals.png" alt="plurals" /></p> <p><img src="http://bjc.berkeley.edu/bjc-r/img/recur/reporters/squares.png" alt="squares" /> </p> <p><img src="http://bjc.berkeley.edu/bjc-r/img/recur/reporters/exaggerate.png" alt="exaggerate" /><br /><img src="http://bjc.berkeley.edu/bjc-r/img/recur/reporters/exaggerate-wordlist.png" alt="exaggerate-wordlist" /><br /> <img src="http://bjc.berkeley.edu/bjc-r/img/recur/reporters/exaggerate-word.png" alt="exaggerate word" /> </p> <p><code>Plurals</code>, <code>squares</code>, and <code>exaggerate wordlist</code> all have almost identical scripts:</p> <p><img src="http://bjc.berkeley.edu/bjc-r/img/recur/reporters/map-examples.png" alt="map-pattern examples" /></p> <p>The only difference is the circled part above: the particular function that's applied to <code>item 1 of</code> the input list. By now you know very well how to generalize a pattern by adding another input to the procedure:</p> <p><img src="http://bjc.berkeley.edu/bjc-r/img/recur/reporters/map-start.png" alt="map definition without function call" /></p> <p>But what do we put in the first input slot of<code> in front of</code>?</p> <p>There are two little details you have to learn to finish this definition. The first is that the <code>function</code> input has to be of Reporter type. You already know how to set an input to be of some other type, such as Number or List. It's the same for Reporter:</p> <p><img src="http://bjc.berkeley.edu/bjc-r/img/recur/reporters/reporter-type.png" alt="reporter type declaration" /></p> <p>The Greek letter λ that appears next to the word <code>function</code> in the orange oval is a type reminder, just like the︙for lists.</p> <p>Now you have to know how to apply the function to <code>item 1 of data</code>. Find the <code>call</code> block in the Control palette and click on its right arrowhead to give it a second input slot. Then fill it in like this:</p> <p><img src="http://bjc.berkeley.edu/bjc-r/img/recur/reporters/map.png" alt="map definition" /></p> <p>That's it! Your first higher order function.</p> <p>(The version in the Snap<em>!</em> tool library is more complicated because it allows more than one input list. The actual code is kind of messy—not mysterious, just messy. It makes a single list a special case, which it then uses inside itself. There's no need for you to read it, but feel free if you don't mind mess.)</p> <p>The <code>call</code> block finds empty input slots in its function input and fills them in with the given input values. In this case, there's only one input value, so it will fill all empty slots. If you'd given more input values, then the number of empty slots would have to equal the number of input values, and they'd be filled in left to right.</p> <p>Everyone else thinks that higher order functions are <em>way too hard and scary </em>for beginning computer science students. But, once you understand recursion, and understand generalizing a procedure by adding an input, they're really no big deal.</p> <hr /> <p>Occasionally a problem comes up that doesn't <em>exactly </em>match the map pattern, but comes close. In that case, you can't use the <code>map</code> HOF, but your understanding of the recursive map pattern will still help. Here's an example you've seen before:</p> <p><img src="http://inst.eecs.berkeley.edu/~cs10/labs/img/recur/reporters/odds.png" alt="odd numbered items" /></p> <blockquote> <p>☞ Fill in the blanks: This script is just like the map pattern except for ______ (base case) and _____ (in the recursive case).</p> <p>☞ Define this block:</p> <p><img src="http://inst.eecs.berkeley.edu/~cs10/labs/img/recur/reporters/pairup.png" alt="pairup example" /></p> </blockquote> </body> </html>